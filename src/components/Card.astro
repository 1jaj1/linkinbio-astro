---
export interface Props {
  title: string;
  description?: string;
  url: string;
  backgroundImage?: string;
  cardType: 'portfolio' | 'social' | 'service' | 'contact' | 'content' | 'product';
  size: 'hero' | 'standard';
  order?: number;
  isActive?: boolean;
}

const { 
  title, 
  description, 
  url, 
  backgroundImage, 
  cardType, 
  size, 
  order = 0, 
  isActive = true 
} = Astro.props;

// Card type styling configurations
const cardTypeStyles = {
  portfolio: {
    gradient: 'from-black/60 via-black/40 to-transparent',
    hoverGradient: 'hover:from-black/80 hover:via-black/60 hover:to-transparent',
    icon: '🎨'
  },
  social: {
    gradient: 'from-blue-600/60 via-blue-500/40 to-transparent',
    hoverGradient: 'hover:from-blue-700/80 hover:via-blue-600/60 hover:to-transparent',
    icon: '🔗'
  },
  service: {
    gradient: 'from-purple-600/60 via-purple-500/40 to-transparent',
    hoverGradient: 'hover:from-purple-700/80 hover:via-purple-600/60 hover:to-transparent',
    icon: '⚡'
  },
  contact: {
    gradient: 'from-green-600/60 via-green-500/40 to-transparent',
    hoverGradient: 'hover:from-green-700/80 hover:via-green-600/60 hover:to-transparent',
    icon: '📧'
  },
  content: {
    gradient: 'from-orange-600/60 via-orange-500/40 to-transparent',
    hoverGradient: 'hover:from-orange-700/80 hover:via-orange-600/60 hover:to-transparent',
    icon: '📝'
  },
  product: {
    gradient: 'from-red-600/60 via-red-500/40 to-transparent',
    hoverGradient: 'hover:from-red-700/80 hover:via-red-600/60 hover:to-transparent',
    icon: '🛍️'
  }
};

const sizeClasses = {
  hero: 'col-span-2 md:col-span-2 lg:col-span-2 aspect-[2/1]',
  standard: 'col-span-1 md:col-span-1 lg:col-span-1 aspect-[3/2]'
};

const currentStyle = cardTypeStyles[cardType];
---

{isActive && (
  <a 
    href={url}
    target="_blank"
    rel="noopener noreferrer"
    class={`relative overflow-hidden rounded-lg group transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl ${sizeClasses[size]}`}
    style={{ order }}
  >
    {/* Background Image */}
    {backgroundImage && (
      <img 
        src={backgroundImage} 
        alt={title}
        class="absolute inset-0 w-full h-full object-cover"
      />
    )}
    
    {/* Gradient Overlay */}
    <div class={`absolute inset-0 bg-gradient-to-t ${currentStyle.gradient} ${currentStyle.hoverGradient} transition-all duration-300`} />
    
    {/* Content */}
    <div class="relative z-10 p-4 md:p-6 h-full flex flex-col justify-end">
      <div class="mb-2">
        <span class="text-2xl md:text-3xl mb-2 block">{currentStyle.icon}</span>
      </div>
      
      <h3 class="text-lg md:text-xl font-bold text-white mb-1 leading-tight">
        {title}
      </h3>
      
      {description && (
        <p class="text-sm md:text-base text-white/90 line-clamp-2">
          {description}
        </p>
      )}
      
      {/* Hover Arrow */}
      <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        <svg 
          class="w-6 h-6 text-white" 
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 17L17 7M17 7H7M17 7V17" />
        </svg>
      </div>
    </div>
    
    {/* Hover State Border */}
    <div class="absolute inset-0 border-2 border-white/0 group-hover:border-white/20 rounded-lg transition-all duration-300 pointer-events-none" />
  </a>
)}